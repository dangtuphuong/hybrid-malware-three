import { useEffect, useState } from "react";
import { useLocation } from "react-router-dom"
import { DataGrid } from '@mui/x-data-grid';
import Paper from '@mui/material/Paper';

const PredictResultPage = () => {
    const location = useLocation()
    const data = location.state;
    const [rows, setRows] = useState([]);
    
    useEffect(() => {
        setRows(data.map((_data, id) => ({ id, result: _data  })));
    }, [])

    const cols = [
        { field: 'id', headerName: 'ID', width: 70 },
        { field: 'result', headerName: 'Prediction', width: 250, valueGetter: (value, row) => `${row['result']}`},
      ];

    return (
        <div style={{ marginTop: '100px'}}>
            <p style={{ margin: 'auto', textAlign: 'center', fontWeight: 'bolder', fontSize: '30px'}}> Predict Result</p>
            <Paper sx={{ height: 500, width: '340px', margin: 'auto' }}>
                <DataGrid
                    rows={rows}
                    getRowId={(row) => row.id}
                    columns={cols}
                    initialState={{ pagination: { page: 0, pageSize: 10 } }}
                    pageSizeOptions={[10]}
                    sx={{ border: 0 }}
                />
            </Paper>
        </div>
    )
}

export default PredictResultPage