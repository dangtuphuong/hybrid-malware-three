import DataService from "../services/data-service";
import toast from "react-hot-toast";

const ConfirmModal = ({ isShown, setShow, id }) => {
    const handleDeleteModel = async () => {
        const data = DataService.deleteModel(id);
        if (data.isError) {
            toast.error('Somethings wrong');
        } else {
            setShow(false);
            toast.success('Delete model successful');
            setTimeout(() => window.location.reload(), 2000);
        }
    }

    return (
        <div className={`space-y-2 p-5 w-[400px] left-1/2 -translate-x-1/2 fixed bg-white opacity-100 rounded-b-md top-0 transition duration-300 z-30 ${isShown ? 'translate-y-0' : '-translate-y-full'}`}>
            <p className={`text-lg font-bold`}>Confirm delete model </p>
            <p className={`italic text-sm`}>Upon deletion, you cannot recover the model. Are you sure want to delete?</p>
            <div className={`pt-4 flex justify-center gap-3`}>
                <button className={`px-4 py-2 bg-rose-400 rounded-lg text-zinc-50 font-medium shadow-sm shadow-rose-400/50 hover:shadow-lg hover:shadow-400 hover:bg-rose-500`} onClick={handleDeleteModel}>
                    Confirm
                </button>
                <button className={`px-4 py-2 bg-zinc-50 border border-zinc-400 rounded-lg text-zinc-600 font-medium shadow-sm shadow-zinc-400/50 hover:shadow-lg hover:shadow-400 hover:bg-zinc-200`} onClick={() => setShow(false)}>
                    Cancel
                </button>
            </div>
        </div>
    )
}

export default ConfirmModal;