import { useEffect, useState } from "react";
import { useLocation } from "react-router-dom"
import { DataGrid } from '@mui/x-data-grid';
import Paper from '@mui/material/Paper';

const CompareResultPage = () => {
    const location = useLocation()
    const data = location.state;
    const [rows, setRows] = useState([]);
    
    useEffect(() => {
        setRows(data.labels1.map((_data, id) => ({ id, label1: _data, label2: data.labels2[id] })));
    }, [])

    const cols = [
        { field: 'id', headerName: 'ID', width: 70 },
        { field: 'label1', headerName: 'First model', width: 250, valueGetter: (value, row) => `${row['label1']}`},
        { field: 'label2', headerName: 'Second model', width: 250, valueGetter: (value, row) => `${row['label2']}`},
      ];

    return (
        <div className={`mt-5 space-y-5`}> 
            <p style={{ margin: 'auto', textAlign: 'center', fontWeight: 'bolder', fontSize: '30px'}}> Predict Result</p>
            <Paper sx={{ height: 500, width: '600px', margin: 'auto' }}>
                <DataGrid
                    rows={rows}
                    getRowId={(row) => row.id}
                    columns={cols}
                    initialState={{ pagination: { page: 0, pageSize: 10 } }}
                    pageSizeOptions={[10]}
                    sx={{ border: 0 }}
                />
            </Paper>
        </div>
    )
}

export default CompareResultPage